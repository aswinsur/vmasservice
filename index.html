<!DOCTYPE html>
<html>
<head>
  <title>VM Deployment Request</title>
  <style>
    body { font-family: Arial; background: #f8f9fa; padding: 20px; }
    .form-container { background: white; padding: 20px; border-radius: 8px; max-width: 400px; margin: auto; box-shadow: 0px 4px 6px rgba(0,0,0,0.1); }
    select, input { width: 100%; padding: 8px; margin: 8px 0; }
    button { background: #0078d4; color: white; padding: 10px; border: none; cursor: pointer; border-radius: 5px; }
    button:hover { background: #005a9e; }
  </style>
</head>
<body>
  <div class="form-container">
    <h2>Request VM Deployment</h2>
    <form id="vmForm">
      <label>Subscription</label>
      <select name="subscription" required>
        <option value="MCAPS-Hybrid-REQ-116125-2025-assurendran">MCAPS-Hybrid-REQ-116125-2025-assurendran</option>
        <option value="MCAPS-Hybrid-REQ-110820-2025-assurendran">MCAPS-Hybrid-REQ-110820-2025-assurendran</option>
      </select>

      <label>Region</label>
      <select name="region">
        <option value="East US">East US</option>
        <option value="West Europe">West Europe</option>
      </select>

      <label>VM Size</label>
      <select name="vm_size">
        <option value="Standard_DS1_v2">Standard_DS1_v2</option>
        <option value="Standard_DS2_v2">Standard_DS2_v2</option>
      </select>

      <label>VNet</label>
      <input type="text" name="vnet" placeholder="VNet Name" required />

      <label>VM Name</label>
      <input type="text" name="vm_name" required />

      <label>Username</label>
      <input type="text" name="username" required />

      <label>Password</label>
      <input type="password" name="password" required />

      <button type="submit">Submit</button>
    </form>
  </div>

  <script>
    document.getElementById('vmForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = Object.fromEntries(new FormData(e.target).entries());
      fetch("https://prod-27.centralindia.logic.azure.com:443/workflows/2a8a2f9f67804fecbaf108298b8eb12b/triggers/When_a_HTTP_request_is_received/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2FWhen_a_HTTP_request_is_received%2Frun&sv=1.0&sig=v-7BsVDKtlB0rXAPeQxaNC8exIpd5EL4VJ9YIPAtPEM", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(formData)
      })
      .then(res => res.ok ? alert("Request submitted for approval!") : alert("Error submitting request"))
      .catch(err => console.error(err));
    });
  </script>
</body>
</html>
